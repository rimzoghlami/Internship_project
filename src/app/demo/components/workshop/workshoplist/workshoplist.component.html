<div class="card">
  <div class="p-mb-4">
    <button pButton 
            label="Add New Workshop" 
            icon="pi pi-plus"
            class="p-button-primary"
            routerLink="/workshops/new"></button>
  </div>

  <p-table [value]="workshops" [paginator]="true" [rows]="10" responsiveLayout="scroll">
    <ng-template pTemplate="header">
      <tr>
        <th style="width: 100px">Image</th>
        <th pSortableColumn="name">Name <p-sortIcon field="name"></p-sortIcon></th>
        <th pSortableColumn="theme">Theme <p-sortIcon field="theme"></p-sortIcon></th>
        <th pSortableColumn="description">Description <p-sortIcon field="description"></p-sortIcon></th>
        <th>Actions</th>
      </tr>
    </ng-template>
    
    <ng-template pTemplate="body" let-workshop>
      <tr>
        <td>
          <img [src]="workshop.photo || 'assets/images/placeholder-workshop.png'" 
               class="workshop-image"
               alt="{{ workshop.name }} thumbnail">
        </td>
        <td>{{ workshop.name }}</td>
        <td>{{ workshop.theme }}</td>
        <td>{{ workshop.description }}</td>
        <td>
          <div class="flex gap-2">
            <button pButton 
                    icon="pi pi-pencil" 
                    class="p-button-rounded p-button-success" 
                    [routerLink]="['/workshops', workshop.id, 'edit']"></button>
            
            <button pButton 
                    icon="pi pi-trash" 
                    class="p-button-rounded p-button-danger" 
                    (click)="deleteWorkshop(workshop.id)"></button>
            
            <!-- Button to redirect to the resource list for a specific workshop -->
            <button pButton 
                    icon="pi pi-list" 
                    class="p-button-rounded p-button-info" 
                    [routerLink]="['/workshops', workshop.id, 'resources']"></button>
          </div>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
